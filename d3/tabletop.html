<html>
<head>
  <meta charset="utf-8">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.9.1/d3.min.js"></script>
  <!-- <script src="https://d3js.org/d3-geo.v1.min.js"></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.5.2/tabletop.min.js"></script>
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.js"></script> -->
</head>
<body>


<h1>Thailand election monitoring 2019</h1>

<div id="data">
  [data]
</div>

<script>
function init() {
  Tabletop.init({
    key: '1G3i_DIPjHDcqS0sDoNWck9fC2NNpSirSsouFEay7cxY',
    callback: callback,
    postProcess: postProcess,
    simpleSheet: false // allow multiple sheets
   });
}

function callback(data, tabletop) {
  console.log("processData", data);
}

function postProcess(element) {
  console.log('element', element);

 //  // Combine first and last name into a new column
 // element["full_name"] = element["first_name"] + " " + element["last_name"];

 // // Convert string date into Date date
 // element["timestamp"] = Date.parse(element["displaydate"]);
}

window.addEventListener('DOMContentLoaded', init);
</script>




</body>
</html>